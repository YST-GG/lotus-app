<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
    <!-- favicons -->
    <link type="text/css" rel="apple-touch-icon" href="static/bootstrap/img/favicon-apple.png">
    <link type="text/css" rel="icon" href="/static/img/favicon.png">
    <!-- Bootstrap CSS -->
    <link type="text/css" rel="stylesheet" href="http://cdn.bootstrapmb.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <!-- Material design icons CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/materializeicon/material-icons.css">
    <!-- aniamte CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/animatecss/animate.css">
    <!-- swiper carousel CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/swiper/css/swiper.min.css">
    <!-- daterange CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/bootstrap-daterangepicker-master/daterangepicker.css">
    <!-- footable CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/footable-bootstrap/css/footable.bootstrap.min.css">
    <!-- Bootstra tour CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/bootstrap_tour/css/bootstrap-tour-standalone.css">
    <!-- jvector map CSS -->
    <link type="text/css" rel="stylesheet" href="/static/vendor/jquery-jvectormap/jquery-jvectormap-2.0.3.css">
    <!-- app CSS -->
    <link id="theme" rel="stylesheet" href="/static/css/purplesidebar.css" type="text/css">
    <title>耘存科技 - Mobile</title>
    <style>
        body {
            background-color: #f8f8f8;
        }

        /*第一个分页器*/
        .pagination-container {
            text-align: center;
            margin-bottom: 20px;
        }

        .pagination {
            display: inline-block;
        }

        .pagination a {
            background-color: #999;
            color: #fff;
            padding: 1px 6px;
            text-decoration: none;
            border-radius: 5px;
            margin-right: 10px;
            cursor: pointer;
        }

        .pagination a:last-child {
            margin-right: 0;
        }

        .pagination a.active {
            background-color: #85D1FF;
        }

        .page-change {
            /*margin: 0 15px;*/
            display: inline-block;
            width: 100%;
            height: 100%;
            background-color: #f7f7f7;
            font-size: 28px;
            cursor: pointer;
        }

        .skip input {
            width: 50px;
        }
    </style>
</head>

<body class="fixed-header sidebar-right-close sidebar-left-close">
    <!-- page loader -->
    <div class="loader justify-content-center pink-gradient">
        <div class="align-self-center text-center">
            <div class="logo-img-loader">
                <img src="/static/img/loader-hole.png" alt="" class="logo-image">
                <img src="/static/img/loader-bg.png" alt="" class="logo-bg-image">
            </div>
            <h2 class="mt-3 font-weight-light">耘存<br><small>- 手机端 -</small></h2>
            <p class="mt-2 text-white"></p>
        </div>
    </div>
    <!-- page loader ends  -->
    <!--公共头部-->
    <div id="header" style="height: 6%;"></div> 
            
        <!-- sidebar left ends -->
        <!-- content page title -->
        <div class="container-fluid bg-light-opac">
            <div class="row">
                <div class="container my-3 main-container">
                    <div class="row align-items-center">
                        <div class="col">
                            <h2 class="content-color-primary page-title">Lotus Dashboard</h2>
                            <p class="content-color-secondary page-sub-title">打造新一代分布式存储网络</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- content page title ends -->
        <!-- content page -->
        <div class="container mt-4 main-container">
            <div class="row">
                <div class="col-12 col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="content-color-secondary mb-0">区块高度</p>
                                    <h4 class="content-color-primary mb-3" id="height"></h4>
                                </div>
                            </div>
                            <div class="progress progress-small">
                                <div class="progress-bar bg-success col-6" role="progressbar" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="content-color-secondary mb-0">全网总存力</p>
                                    <h4 class="content-color-primary mb-3" id="networkStorage"></h4>
                                </div>
                            </div>
                            <div class="progress progress-small">
                                <div class="progress-bar bg-danger col-6" role="progressbar" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="content-color-secondary mb-0">活跃节点数</p>
                                    <h4 class="content-color-primary mb-3" id="activeNodes"></h4>
                                </div>
                            </div>
                            <div class="progress progress-small">
                                <div class="progress-bar bg-primary col-4" role="progressbar" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="content-color-secondary mb-0">交易手续费</p>
                                    <h4 class="content-color-primary mb-3" id="averagePrice"></h4>
                                </div>
                            </div>
                            <div class="progress progress-small">
                                <div class="progress-bar bg-primary col-4" role="progressbar" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="content-color-secondary mb-0">抵押数量</p>
                                    <h4 class="content-color-primary mb-3" id="pledgeCollateral"></h4>
                                </div>
                            </div>
                            <div class="progress progress-small">
                                <div class="progress-bar bg-warning col-6" role="progressbar" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="content-color-secondary mb-0">平均出块时间</p>
                                    <h4 class="content-color-primary mb-3" id="averageBlocktime"></h4>
                                </div>
                            </div>
                            <div class="progress progress-small">
                                <div class="progress-bar bg-primary col-4" role="progressbar" aria-valuenow="25"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Tipset 数据 -->
            <div class="row">
                <div class="col-sm-12 col-md-12">
                    <div class="card rounded-0 border-0 mb-3">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-8">
                                    <h5 class="card-title mb-0">Tipset 数据</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- table-responsive -->
                            <table class="table-responsive table" style="text-nowrap: nowrap">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Height</th>
                                        <th scope="col">Tipset</th>
                                    </tr>
                                </thead>
                                <tbody id="tipSet_wrap">
                                    <!--
                                    <tr>
                                        <th scope="row">1</th>
                                        <td>Mark</td>
                                        <td>Otto</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">2</th>
                                        <td>Jacob</td>
                                        <td>Thornton</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">3</th>
                                        <td>Larry</td>
                                        <td>the Bird</td>
                                    </tr>
                                 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 分页容器 -->
            <div class="pagination-container">
                <button style="background-color: #f7f7f7; border: none; outline: none">
                    <span class="page-change prev" aria-hidden="true">&laquo;</span>
                </button>
                <div class="pagination"></div>
                <button style="background-color: #f7f7f7; border: none; outline: none">
                    <span class="page-change next" aria-hidden="true">&raquo;</span>
                </button>
            </div>
            <!-- 矿工排名 -->
            <div class="row">
                <div class="col-sm-12 col-md-12">
                    <div class="card rounded-0 border-0 mb-3">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-8">
                                    <h5 class="card-title mb-0">矿工排名</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <table class="table">
                                <thead class="thead-dark">
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">矿工名字</th>
                                        <th scope="col">算力</th>
                                    </tr>
                                </thead>
                                <tbody id="minerSort_wrap">
                                    <!--
                                    <tr>
                                        <th scope="row">1</th>
                                        <td>Mark</td>
                                        <td>Otto</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">2</th>
                                        <td>Jacob</td>
                                        <td>Thornton</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">3</th>
                                        <td>Larry</td>
                                        <td>the Bird</td>
                                    </tr>
                                    -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 分页容器 -->
            <div class="pagination-container pagination-container2">
                <button style="background-color: #f7f7f7; border: none; outline: none">
                    <span class="page-change prev page-change2 prev2" aria-hidden="true">&laquo;</span>
                </button>
                <div class="pagination pagination2"></div>
                <button style="background-color: #f7f7f7; border: none; outline: none">
                    <span class="page-change next page-change2 next2" aria-hidden="true">&raquo;</span>
                </button>
            </div>
            <!-- 全网矿工数据 -->
            <div class="row">
                <div class="col-sm-12">
                    <div class="card mb-4 fullscreen">
                        <div class="card-header">
                            <div class="media">
                                <div class="col-8">
                                    <h5 class="card-title mb-0">全网矿工数据</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <table class="table " id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>矿工名字</th>
                                        <th>在线时间</th>
                                    </tr>
                                </thead>
                                <tbody id="allMinerData_wrap">
                                    <!--
                                    <tr class="odd">
                                        <td>
                                            <img src="/static/img/user1.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Strobarry milk
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="even ">
                                        <td>
                                            <img src="/static/img/user2.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Alone Guy
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="odd">
                                        <td>
                                            <img src="/static/img/user3.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Astha Smith
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="even ">
                                        <td><img src="/static/img/user1.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Lucky Sans
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="odd">
                                        <td><img src="/static/img/user3.png" alt="" class="rounded-circle avatar avatar-50 mr-2">John Doe
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="even ">
                                        <td><img src="/static/img/user1.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Alone Guy
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="odd">
                                        <td><img src="/static/img/user3.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Astha Smith
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="even ">
                                        <td><img src="/static/img/user2.png" alt="" class="rounded-circle avatar avatar-50 mr-2">John Doe
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="odd">
                                        <td><img src="/static/img/user2.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Alone Guy
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="even ">
                                        <td><img src="/static/img/user2.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Astha Smith
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="odd">
                                        <td><img src="/static/img/user1.png" alt="" class="rounded-circle avatar avatar-50 mr-2">Lucky Sans
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    <tr class="even ">
                                        <td><img src="/static/img/user1.png" alt="" class="rounded-circle avatar avatar-50 mr-2">John Doe
                                        </td>
                                        <td>infoatmaxartkiller.in</td>
                                    </tr>
                                    -->
                                </tbody>
                            </table>
                            <!-- /.table-responsive -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- 分页容器 -->
            <div class="pagination-container pagination-container3">
                <button style="background-color: #f7f7f7; border: none; outline: none">
                    <span class="page-change prev page-change3 prev3" aria-hidden="true">&laquo;</span>
                </button>
                <div class="pagination pagination3"></div>
                <button style="background-color: #f7f7f7; border: none; outline: none">
                    <span class="page-change next page-change3 next3" aria-hidden="true">&raquo;</span>
                </button>
            </div>
            <!--
                <div class="container mt-4 main-container">

                </div>
            -->
        </div>
        <!-- content page ends -->
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script type="text/javascript" src="/static/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="/static/js/popper.min.js"></script>
    <script type="text/javascript" src="http://cdn.bootstrapmb.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- Cookie jquery file -->
    <script type="text/javascript" src="/static/vendor/cookie/jquery.cookie.js"></script>
    <!-- sparklines chart jquery file -->
    <script type="text/javascript" src="/static/vendor/sparklines/jquery.sparkline.min.js"></script>
    <!-- Circular progress gauge jquery file -->
    <script type="text/javascript" src="/static/vendor/circle-progress/circle-progress.min.js"></script>
    <!-- Swiper carousel jquery file -->
    <script type="text/javascript" src="/static/vendor/swiper/js/swiper.min.js"></script>
    <!-- Chart js jquery file -->
    <script type="text/javascript" src="/static/vendor/chartjs/Chart.bundle.min.js"></script>
    <script type="text/javascript" src="/static/vendor/chartjs/utils.js"></script>
    <!-- Footable jquery file -->
    <script type="text/javascript" src="/static/vendor/footable-bootstrap/js/footable.min.js"></script>
    <!-- datepicker jquery file -->
    <script type="text/javascript" src="/static/vendor/bootstrap-daterangepicker-master/moment.js"></script>
    <script type="text/javascript" src="/static/vendor/bootstrap-daterangepicker-master/daterangepicker.js"></script>
    <!-- jVector map jquery file -->
    <script type="text/javascript" src="/static/vendor/jquery-jvectormap/jquery-jvectormap.js"></script>
    <script type="text/javascript" src="/static/vendor/jquery-jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <!-- Bootstrap tour jquery file -->
    <script type="text/javascript" src="/static/vendor/bootstrap_tour/js/bootstrap-tour-standalone.min.js"></script>
    <!-- jquery toast message file -->
    <script type="text/javascript" src="/static/vendor/jquery-toast-plugin-master/dist/jquery.toast.min.js"></script>
    <!-- Application main common jquery file -->
    <script type="text/javascript" src="/static/js/main.js"></script>
    <!-- page specific script -->
    <script type="text/javascript" src="/static/js/dashboard.js"></script>
    <!-- page specific script -->
    <!--调用公共头部回调函数-->
    <script>
        $(function(){
            $("#header").load("/public_header");
        }) 
     </script>
    <script type="text/javascript">
        "use script";
        $(window).on('load', function () {
            var tour = new Tour({
                steps: [{
                    element: "#left-menu",
                    title: "Main Menu",
                    content: "Access the demo pages from sidebar",
                    smartPlacement: true,
                    storage: false
                }, {
                    element: "button[data-target='#createOrder']",
                    title: "Creative Form",
                    content: "See beautifully designed form in modal",
                    smartPlacement: true,
                    placement: "left",
                    storage: false

                }, {
                    element: ".close-sidebar",
                    title: "Customizaton Menu",
                    content: "Customize your Layout style",
                    smartPlacement: true,
                    placement: "left",
                    storage: false

                }]

            });
            // Initialize the tour
            tour.init();

            // Start the tour
            tour.start();

        });



        $(function () {
            $.ajax({
                type: "GET",
                url: "http://47.100.10.123:10080/lotus/lotus_message",
                data: '',
                dataType: "json",
                success: function (json) {
                    var i = 0;
                    var temp = 0;
                    for (i; json.networkStorage > 1024; i++) {
                        json.networkStorage = parseInt(json.networkStorage) / 1024.00;
                    }
                    temp = json.networkStorage;
                    
                    switch (i) {
                        case 0: temp = temp + "B";
                            break;
                        case 1: temp = temp + "KB";
                            break;
                        case 2: temp = temp + "MB";
                            break;
                        case 3: temp = temp + "GB";
                            break;
                        case 4: temp = temp + "TB";
                            break;
                        case 5: temp = temp + "PB";
                            break;
                        case 6: temp = temp + "ZB";
                            break;
                    }

                    $("#height").html(json.blockHeight);
                    $("#averagePrice").html(json.averagePrice);
                    $("#averageBlocktime").html(json.averageBlocktime + "s");
                    $("#pledgeCollateral").html(json.pledgeCollateral);
                    $("#activeNodes").html(json.activeNodes);
                    $("#networkStorage").html(temp);
                }
            });

            // 发送请求, 获取Tipset数据
            $.ajax({
                type: "GET",
                url: "http://47.100.10.123:10080/lotus/chain_data",
                data: '',
                dataType: "json",
                success: function (result) {
                    // console.log("---------------", result);
                    let newMain = document.querySelector('#tipSet_wrap');//数据容器
                    let pagination = document.querySelector('.pagination');//分页容器
                    let pageCount = Math.ceil(result.length / 10); //根据数据的长度计算总共几页
                    let newsDataRender = [];//每页要显示的数据
                    let p = 1;//根据p值显示每页的数据

                    //渲染页面函数
                    let render = () => {
                        newMain.innerHTML = ' ';
                        newsDataRender = result.slice((p - 1) * 10, 10 * p); //每页要显示的数据,一页显示5条
                        newsDataRender.forEach((item, index) => {
                            newMain.innerHTML += `
                            <tr>
                                <th style="vertical-align: middle" scope="row">${item.id}</th>
                                <td>${item.height}</td>
                                <td>${item.tipset}</td>
                            </tr>`;
                        });
                    };
                    //初始化页面
                    render();

                    //渲染分页
                    for (let i = 1; i <= pageCount; i++) {
                        pagination.innerHTML += `<a>${i}</a>`;
                    }
                    // pagination.innerHTML +=`<span class="skip">跳转至 <input type="text"> </span>页`;//获取页数
                    let asAll = pagination.querySelectorAll('a');
                    //页面刚进来时第一页高亮
                    asAll[p - 1].classList.add('active');

                    //遍历总页数
                    asAll.forEach((item, index) => {
                        //点击页数
                        item.onclick = function () {
                            for (let j = 0; j < asAll.length; j++) {
                                asAll[j].classList.remove('active');
                            }
                            this.classList.add('active');
                            p = index + 1; //点击页数，改变p的值，以改变这个页面要显示的数据，达到分页的效果
                            render(); //重新渲染页面
                        }
                    });

                    //点击上一页下一页，改变高亮
                    let changePageClass = () => {
                        for (let j = 0; j < asAll.length; j++) {
                            asAll[j].classList.remove('active');
                        }
                        asAll[p - 1].classList.add('active');
                    };
                    //上一页
                    let prev = document.querySelector('.prev');
                    prev.onclick = function (e) {
                        if (p <= 1) {
                            console.log(p);
                            return;
                        } else {
                            p = p - 1;
                            changePageClass();
                            render();
                        }
                    };
                    //下一页
                    let next = document.querySelector('.next');
                    next.onclick = function () {
                        if (p >= asAll.length) {
                            return;
                        }
                        p = p + 1;
                        changePageClass();
                        render();
                    }
                },
                error: function () {
                    alert("网络错误, 稍后再试 !")
                }
            });

            // 发送请求, 获取矿工排名数据
            $.ajax({
                type: "GET",
                url: "http://47.100.10.123:10080/lotus/miner_data",
                data: '',
                dataType: "json",
                success: function (result) {
                    // console.log("---------------", result);
                    let newMain = document.querySelector('#minerSort_wrap');//数据容器
                    let pagination = document.querySelector('.pagination2');//分页容器
                    let pageCount = Math.ceil(result.length / 5); //根据数据的长度计算总共几页
                    let newsDataRender = [];//每页要显示的数据
                    let p = 1;//根据p值显示每页的数据

                    //渲染页面函数
                    let render = () => {
                        newMain.innerHTML = ' ';
                        newsDataRender = result.slice((p - 1) * 5, 5 * p); //每页要显示的数据,一页显示5条
                        newsDataRender.forEach((item, index) => {
                            newMain.innerHTML += `
                            <tr>
                                <th scope="row">${item.id}</th>
                                <td>${item.minerName}</td>
                                <td>${item.power}</td>
                            </tr>`;
                        });
                    };
                    //初始化页面
                    render();

                    //渲染分页
                    for (let i = 1; i <= pageCount; i++) {
                        pagination.innerHTML += `<a>${i}</a>`;
                    }
                    // pagination.innerHTML +=`<span class="skip2">跳转至 <input type="text"> </span>页`;//获取页数
                    let asAll = pagination.querySelectorAll('a');
                    //页面刚进来时第一页高亮
                    asAll[p - 1].classList.add('active');

                    //遍历总页数
                    asAll.forEach((item, index) => {
                        //点击页数
                        item.onclick = function () {
                            for (let j = 0; j < asAll.length; j++) {
                                asAll[j].classList.remove('active');
                            }
                            this.classList.add('active');
                            p = index + 1; //点击页数，改变p的值，以改变这个页面要显示的数据，达到分页的效果
                            render(); //重新渲染页面
                        }
                    });

                    //点击上一页下一页，改变高亮
                    let changePageClass = () => {
                        for (let j = 0; j < asAll.length; j++) {
                            asAll[j].classList.remove('active');
                        }
                        asAll[p - 1].classList.add('active');
                    };
                    //上一页
                    let prev = document.querySelector('.prev2');
                    prev.onclick = function (e) {
                        if (p <= 1) {
                            console.log(p);
                            return;
                        } else {
                            p = p - 1;
                            changePageClass();
                            render();
                        }
                    };
                    //下一页
                    let next = document.querySelector('.next2');
                    next.onclick = function () {
                        if (p >= asAll.length) {
                            return;
                        }
                        p = p + 1;
                        changePageClass();
                        render();
                    }
                },
                error: function () {
                    alert("网络错误, 稍后再试 !")
                }
            });

            // 发送请求, 获取全网矿工数据
            $.ajax({
                type: "GET",
                url: "http://47.100.10.123:10080/block_new/getminer_data",
                data: '',
                dataType: "json",
                success: function (result) {
                    // console.log("---------------", result);
                    let newMain = document.querySelector('#allMinerData_wrap');//数据容器
                    let pagination = document.querySelector('.pagination3');//分页容器
                    let pageCount = Math.ceil(result.length / 10); //根据数据的长度计算总共几页
                    let newsDataRender = [];//每页要显示的数据
                    let p = 1;//根据p值显示每页的数据

                    // 渲染页面函数
                    let render = () => {
                        newMain.innerHTML = ' ';
                        newsDataRender = result.slice((p - 1) * 10, 10 * p); //每页要显示的数据,一页显示5条
                        newsDataRender.forEach((item, index) => {
                            newMain.innerHTML += `
                            <tr>
                                <td>${item.name}</td>
                                <td>${item.days}</td>
                            </tr>`;
                        });
                    };
                    //初始化页面
                    render();

                    //渲染分页
                    for (let i = 1; i <= pageCount; i++) {
                        pagination.innerHTML += `<a>${i}</a>`;
                    }
                    // pagination.innerHTML +=`<span class="skip3">跳转至 <input type="text"> </span>页`;//获取页数
                    let asAll = pagination.querySelectorAll('a');
                    //页面刚进来时第一页高亮
                    asAll[p - 1].classList.add('active');

                    //遍历总页数
                    asAll.forEach((item, index) => {
                        //点击页数
                        item.onclick = function () {
                            for (let j = 0; j < asAll.length; j++) {
                                asAll[j].classList.remove('active');
                            }
                            this.classList.add('active');
                            p = index + 1; //点击页数，改变p的值，以改变这个页面要显示的数据，达到分页的效果
                            render(); //重新渲染页面
                        }
                    });

                    //点击上一页下一页，改变高亮
                    let changePageClass = () => {
                        for (let j = 0; j < asAll.length; j++) {
                            asAll[j].classList.remove('active');
                        }
                        asAll[p - 1].classList.add('active');
                    };
                    //上一页
                    let prev = document.querySelector('.prev3');
                    prev.onclick = function (e) {
                        if (p <= 1) {
                            console.log(p);
                            return;
                        } else {
                            p = p - 1;
                            changePageClass();
                            render();
                        }
                    };
                    //下一页
                    let next = document.querySelector('.next3');
                    next.onclick = function () {
                        if (p >= asAll.length) {
                            return;
                        }
                        p = p + 1;
                        changePageClass();
                        render();
                    }
                },
                error: function () {
                    alert("网络错误, 稍后再试 !")
                }
                
            });
        });
        


    </script>
</body>

</html>